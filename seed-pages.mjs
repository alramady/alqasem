import 'dotenv/config';
import mysql from 'mysql2/promise';

const conn = await mysql.createConnection(process.env.DATABASE_URL);

// Seed pages
const pagesData = [
  {
    title: 'من نحن',
    slug: 'about',
    content: `<div class="about-page">
<h2>شركة محمد بن عبد الرحمن القاسم العقارية</h2>
<p>تأسست شركة محمد بن عبد الرحمن القاسم العقارية منذ أكثر من 25 عاماً، وتُعد من أبرز الشركات العقارية في المملكة العربية السعودية. نفخر بتقديم خدمات عقارية متكاملة تشمل التطوير والاستثمار وإدارة الأملاك.</p>
<h3>رؤيتنا</h3>
<p>الإبداع فيما نقدمه من خدمات عقارية وفق معايير جودة عالية ووضع بصمة متميزة في مشاريعنا لتكون معالم فريدة مرتبطة بنهجنا وأسلوبنا.</p>
<h3>رسالتنا</h3>
<p>تقديم أرقى الخدمات العقارية بفكر ومنهج علمي من خلال منظومة عمل متكاملة مبنية على أسس وقواعد الاقتصاد الحديث وعن طريق نخبة من المستشارين والخبراء المختصين.</p>
<h3>قصتنا</h3>
<p>تفخر الشركة اليوم وبعد مسيرة ما يزيد عن 25 عاماً من العطاء بتوليها إدارة وتشغيل وتسويق العديد من العقارات التجارية والسكنية والتي تزيد إجمالي قيمتها السوقية عن مليار ريال سعودي.</p>
</div>`,
    pageType: 'static',
    status: 'published',
    seoTitle: 'من نحن - شركة القاسم العقارية',
    seoDescription: 'تعرف على شركة محمد بن عبد الرحمن القاسم العقارية، أكثر من 25 عاماً من الخبرة في السوق العقاري السعودي',
    seoKeywords: 'القاسم العقارية, عقارات السعودية, شركة عقارية, من نحن',
  },
  {
    title: 'خدماتنا',
    slug: 'services',
    content: `<div class="services-page">
<h2>خدماتنا العقارية المتميزة</h2>
<p>نقدم مجموعة شاملة من الخدمات العقارية المتميزة التي تلبي احتياجات عملائنا.</p>
<h3>إدارة الأملاك</h3>
<p>إدارة شاملة تتضمن الإشراف على صيانة العقار، تحصيل الإيجارات، والتواصل مع المستأجرين لرفع قيمة العقار وتعظيم العوائد. تشمل خدماتنا: تحصيل الإيجارات، الصيانة الدورية، إدارة العقود، التقارير المالية.</p>
<h3>التسويق العقاري</h3>
<p>تسويق العقار عبر القنوات الرقمية والمنصات العقارية وجذب المستأجرين والمشترين المناسبين في أسرع وقت ممكن. نوفر: تصوير احترافي، منصات رقمية، حملات تسويقية، تقارير الأداء.</p>
<h3>الاستشارات العقارية</h3>
<p>فرص استثمارية مدروسة بعناية مع تحليل شامل للعوائد والمخاطر في السوق العقاري السعودي وتقييم احترافي للعقارات. نقدم: تقييم العقارات، تحليل العوائد، دراسات الجدوى، الاستشارات القانونية.</p>
</div>`,
    pageType: 'static',
    status: 'published',
    seoTitle: 'خدماتنا - شركة القاسم العقارية',
    seoDescription: 'خدمات عقارية متكاملة: إدارة أملاك، تسويق عقاري، استشارات عقارية من شركة القاسم العقارية',
    seoKeywords: 'إدارة أملاك, تسويق عقاري, استشارات عقارية, خدمات عقارية',
  },
  {
    title: 'العقارات',
    slug: 'properties',
    content: `<div class="properties-page">
<h2>عقاراتنا المتميزة</h2>
<p>تصفح مجموعة واسعة من العقارات المتميزة للبيع والإيجار في أفضل المواقع بالمملكة العربية السعودية. نوفر فلل فاخرة، شقق سكنية، أراضي استثمارية، محلات تجارية، مكاتب إدارية، وعمارات سكنية وتجارية.</p>
</div>`,
    pageType: 'dynamic',
    status: 'published',
    seoTitle: 'العقارات - شركة القاسم العقارية',
    seoDescription: 'عقارات للبيع والإيجار في الرياض وجدة ومكة والمدينة: فلل، شقق، أراضي، محلات تجارية، مكاتب',
    seoKeywords: 'عقارات للبيع, عقارات للإيجار, فلل, شقق, أراضي, الرياض, جدة',
  },
  {
    title: 'المشاريع',
    slug: 'projects',
    content: `<div class="projects-page">
<h2>مشاريعنا التطويرية</h2>
<p>نفخر بتقديم مجموعة من المشاريع العقارية المتميزة التي تجمع بين الفخامة والموقع الاستراتيجي. مشاريعنا تتنوع بين المجمعات السكنية والأبراج التجارية والمراكز متعددة الاستخدامات.</p>
</div>`,
    pageType: 'dynamic',
    status: 'published',
    seoTitle: 'المشاريع - شركة القاسم العقارية',
    seoDescription: 'مشاريع عقارية تطويرية متميزة من شركة القاسم العقارية في أفضل المواقع بالمملكة',
    seoKeywords: 'مشاريع عقارية, تطوير عقاري, مشاريع سكنية, مشاريع تجارية',
  },
  {
    title: 'تواصل معنا',
    slug: 'contact',
    content: `<div class="contact-page">
<h2>تواصل معنا</h2>
<p>نسعد بتواصلكم معنا ونحن جاهزون لخدمتكم والإجابة على جميع استفساراتكم.</p>
<h3>معلومات التواصل</h3>
<p><strong>العنوان:</strong> شارع الإمام عبد العزيز بن محمد بن سعود - حي أم سليم، الرياض</p>
<p><strong>الهاتف:</strong> 920001911</p>
<p><strong>البريد:</strong> info@alqasem.com.sa</p>
<p><strong>ساعات العمل:</strong> الأحد - الخميس: 9:00 صباحاً - 5:00 مساءً</p>
</div>`,
    pageType: 'static',
    status: 'published',
    seoTitle: 'تواصل معنا - شركة القاسم العقارية',
    seoDescription: 'تواصل مع شركة القاسم العقارية - الرياض، المملكة العربية السعودية',
    seoKeywords: 'تواصل معنا, القاسم العقارية, عنوان, هاتف',
  },
  {
    title: 'إدارة الأملاك',
    slug: 'property-management',
    content: `<div class="pm-page">
<h2>خدمة إدارة الأملاك</h2>
<p>نقدم خدمة إدارة أملاك شاملة ومتكاملة تضمن لكم أعلى عائد من عقاراتكم مع الحفاظ على قيمتها.</p>
<h3>ماذا نقدم؟</h3>
<ul>
<li>تحصيل الإيجارات في مواعيدها</li>
<li>الصيانة الدورية والطارئة</li>
<li>إدارة العقود وتجديدها</li>
<li>التقارير المالية الشهرية والسنوية</li>
<li>التواصل مع المستأجرين</li>
<li>الإشراف على النظافة والأمن</li>
</ul>
</div>`,
    pageType: 'static',
    status: 'published',
    seoTitle: 'إدارة الأملاك - شركة القاسم العقارية',
    seoDescription: 'خدمة إدارة أملاك متكاملة من شركة القاسم العقارية: تحصيل إيجارات، صيانة، إدارة عقود',
    seoKeywords: 'إدارة أملاك, تحصيل إيجارات, صيانة عقارات, إدارة عقود',
  },
  {
    title: 'أضف عقارك',
    slug: 'add-property',
    content: `<div class="add-property-page">
<h2>أضف عقارك</h2>
<p>هل تملك عقاراً وترغب في بيعه أو تأجيره؟ أضف عقارك الآن واستفد من خبرتنا في التسويق العقاري للوصول لأكبر شريحة من العملاء المحتملين.</p>
</div>`,
    pageType: 'dynamic',
    status: 'published',
    seoTitle: 'أضف عقارك - شركة القاسم العقارية',
    seoDescription: 'أضف عقارك للبيع أو الإيجار مع شركة القاسم العقارية',
    seoKeywords: 'أضف عقار, بيع عقار, تأجير عقار',
  },
  {
    title: 'أطلب عقارك',
    slug: 'request-property',
    content: `<div class="request-property-page">
<h2>أطلب عقارك</h2>
<p>أخبرنا عن العقار الذي تبحث عنه وسنساعدك في إيجاد الخيار الأمثل الذي يناسب احتياجاتك وميزانيتك.</p>
</div>`,
    pageType: 'dynamic',
    status: 'published',
    seoTitle: 'أطلب عقارك - شركة القاسم العقارية',
    seoDescription: 'أطلب عقارك المناسب من شركة القاسم العقارية - نساعدك في إيجاد العقار المثالي',
    seoKeywords: 'طلب عقار, بحث عقار, شراء عقار',
  },
];

for (const page of pagesData) {
  await conn.execute(
    `INSERT INTO pages (title, slug, content, pageType, pageStatus, seoTitle, seoDescription, seoKeywords, template, createdAt, updatedAt)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?, 'default', NOW(), NOW())
     ON DUPLICATE KEY UPDATE content = VALUES(content), seoTitle = VALUES(seoTitle), seoDescription = VALUES(seoDescription), seoKeywords = VALUES(seoKeywords), updatedAt = NOW()`,
    [page.title, page.slug, page.content, page.pageType, page.status, page.seoTitle, page.seoDescription, page.seoKeywords]
  );
  console.log(`✅ Page: ${page.title} (/${page.slug})`);
}

// Update homepage sections with richer content
const sectionsContent = [
  {
    key: 'hero',
    content: JSON.stringify({
      heading: 'ابحث عن منزلك مع القاسم',
      subheading: 'نقدم أفضل تجربة في البحث عن العقارات المميزة في المملكة العربية السعودية',
      stats: [
        { label: 'عقار متاح', value: '+500' },
        { label: 'عميل سعيد', value: '+1200' },
        { label: 'مشروع منجز', value: '+50' },
        { label: 'سنة خبرة', value: '+25' },
      ],
      backgroundImage: 'https://manus-storage.oss-cn-beijing.aliyuncs.com/user-file/e8c3c3a1-1b7c-4e7c-a2ff-d1a4d1e1a5b1/real-estate-hero.jpg',
    }),
  },
  {
    key: 'about',
    content: JSON.stringify({
      description: 'يقوم مبدأ العمل في شركة محمد بن عبد الرحمن القاسم العقارية على السمعة الطيبة والعلاقات الإيجابية مع العملاء من خلال ترسيخ مفهوم الصدق والنزاهة في العمل وتحقيق الوعود والتطلعات أياً كانت.',
      vision: 'تتطلع شركة القاسم العقارية إلى أن تكون إحدى أكبر الشركات على المستوى المحلي والإقليمي وذلك بفضل الله ثم بتميزها وإبداعها في الخدمات العقارية.',
      stats: [
        { label: 'سنة خبرة', value: '+20' },
        { label: 'وحدة مباعة', value: '+1000' },
        { label: 'مشروع مكتمل', value: '+16' },
        { label: 'قيمة سوقية ريال', value: '+5 مليار' },
      ],
    }),
  },
  {
    key: 'services',
    content: JSON.stringify({
      services: [
        {
          title: 'إدارة الأملاك',
          description: 'إدارة شاملة تتضمن الإشراف على صيانة العقار، تحصيل الإيجارات، والتواصل مع المستأجرين لرفع قيمة العقار وتعظيم العوائد.',
          features: ['تحصيل الإيجارات', 'الصيانة الدورية', 'إدارة العقود', 'التقارير المالية'],
        },
        {
          title: 'التسويق العقاري',
          description: 'تسويق العقار عبر القنوات الرقمية والمنصات العقارية وجذب المستأجرين والمشترين المناسبين في أسرع وقت ممكن.',
          features: ['تصوير احترافي', 'منصات رقمية', 'حملات تسويقية', 'تقارير الأداء'],
        },
        {
          title: 'الاستشارات العقارية',
          description: 'فرص استثمارية مدروسة بعناية مع تحليل شامل للعوائد والمخاطر في السوق العقاري السعودي وتقييم احترافي للعقارات.',
          features: ['تقييم العقارات', 'تحليل العوائد', 'دراسات الجدوى', 'الاستشارات القانونية'],
        },
      ],
    }),
  },
];

for (const section of sectionsContent) {
  await conn.execute(
    `UPDATE homepage_sections SET content = ? WHERE sectionKey = ?`,
    [section.content, section.key]
  );
  console.log(`✅ Updated section content: ${section.key}`);
}

console.log('\n✅ All pages and section content seeded successfully!');
await conn.end();
